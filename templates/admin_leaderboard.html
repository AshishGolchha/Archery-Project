{% extends 'base.html' %}
{% block title %}Leaderboard â€” {{ comp.name }}{% endblock %}
{% block content %}
<div class="bg-white p-6 rounded shadow">
  <h1 class="text-xl font-bold text-center sm:text-left mb-1">
      {{ comp.name }}
  </h1>
  <h2 class="text-lg font-semibold text-center sm:text-left mb-4">
      Leaderboard
  </h2>
  <table class="hidden sm:table w-full text-left">
    <thead>
      <tr>
        <th>Rank</th>

        {% if comp.is_team_based %}
            <th>Team</th>
        {% else %}
            <th>Roll No</th>
        {% endif %}

        <th>Total</th>
        <th>X's</th>
      </tr>
    </thead>

    <tbody>

    {% if comp.is_team_based %}

        {% for t in team_scores %}
        <tr class="border-t">
            <td>{{ loop.index }}</td>
            <td class="font-semibold">{{ t.team_name }}</td>
            <td>{{ t.total }}</td>
            <td>{{ t.xs }}</td>
        </tr>
        {% endfor %}

    {% else %}

        {% for entry in entries %}
        <tr class="border-t">
            <td>{{ loop.index }}</td>
            <td>{{ entry.roll_no }}</td>
            <td>{{ entry.total }}</td>
            <td>{{ entry.xs }}</td>
        </tr>
        {% endfor %}

    {% endif %}

    </tbody>

  </table>
  <!-- Mobile View -->
  <div class="sm:hidden space-y-4 mt-4">

    {% for entry in entries %}
    <div class="border rounded-lg p-4 bg-gray-50 shadow-sm">

      <div class="flex justify-between items-center mb-2">
        <div class="font-semibold text-lg">
          Rank {{ loop.index }}
        </div>
        <div class="text-sm text-gray-600">
          X's: <span class="font-medium">{{ entry.xs }}</span>
        </div>
      </div>

      <div class="mb-2">
        <div class="text-xs text-gray-500">Roll No</div>
        <div class="font-medium">{{ entry.roll_no }}</div>
      </div>

      <div>
        <div class="text-xs text-gray-500">Total Score</div>
        <div class="text-xl font-bold text-indigo-700">
          {{ entry.total }}
        </div>
      </div>

    </div>
    {% else %}
      <div class="text-center text-gray-500">
        No leaderboard data
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}